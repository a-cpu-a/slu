#
# Dependencies: basic, type, const, safety
#

New Syntax {
	
	basicExpr @::= | ["const"] "do" ["->" basicExpr] "{" block "}"
}

New Keywords {
	do
	const
}

New Tokens {
	->
}

Do {
	
	Lets you compute a value inside in a expression, while being able to use statements, and more complex code.
	
	Using const, forces it to run at compile-time.
	
	Using "break" inside do blocks completes them, and returns the result from the do-expression, for use in the expression outside.
	
	
	Do expressions must end with a return or break, since all paths must return a value or exit the function.
	(`return` still exits the function, and is invalid outside of a function, similarily for `continue`)
	
	The return type is inferred, when missing.
	
	Do expressions are not like lambdas, since they arent functions, but a different way to write expressions.
	
	Inside coroutines, do blocks can directly yield.
	
	Implementation {
		May be implemented by lambdas that capture values.
		
		Can also be implemented as code outside of an expression.
	}
}