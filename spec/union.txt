#
# Dependencies: annotation, basic, export
#

New Syntax {
	
	globstat @::= | optexport "union" Name ["(" params ")"] tableconstructor
}

New Keywords {
	union
}

Union Statement {
	
	Defines a new union type.
	
	Unions can only contain one of the fields that are inside the field-list.
	
	Accessing a field is unsafe, as they dont store which option is used, which is sometimes necessary for memory usage.
	
	The layout is defined by annotations.
	The default layout is optimized for size & speed, and can change depending on where it is used.
	Of course it can be fixed to a standard format, by using (TODO: ???), however this will prevent some optimizations.
	

	Implementation {
		Must support at least 32768 fields.
	}
}
